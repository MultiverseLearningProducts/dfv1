<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- SEO -->
    <title>Database Fundamentals Session 2</title>
    <meta name="description" content="In this session we will looking at how to design a database and troubleshoot erros">
    <!-- Tab icon -->
    <link rel="shortcut icon" type="image/x-icon" href="../assets/multiverse_brand/Logo/01_Deep Space/PNG/Multiverse_Symbol_RGB_Navy.png">
    <!-- Stylesheets -->
    <link rel="stylesheet" href="../Dependencies/dist/reveal.css">
    <link rel="stylesheet" href="../Dependencies/dist/reset.css">
    <link rel="stylesheet" href="../Dependencies/css/mv.css">
    <link rel="stylesheet" type="text/css" media="all" href="../Dependencies/static/css/svg-icons.css">
    <link rel="stylesheet" href="//codemirror.net/lib/codemirror.css">
    <link rel="stylesheet" type='text/css' media='all' href="../Dependencies/static/css/webslides.css">
    <link href="../assets/datastyle.css" rel="stylesheet" type="text/css">
    <!-- Scripts -->
    <script src="//codemirror.net/addon/runmode/runmode-standalone.js"></script>
    <script src="//codemirror.net/mode/python/python.js"></script>
    <body class='reveal-viewport'>
      <div class="reveal" style='font-family:atlas;font-size:25px;color:#242456'>
        <div class="slides">
          <!-- Slide 1 -->
					<section data-background-image='../assets/generic/section.PNG'>
						<div class="wrap aligncenter">
							<span class='title'> Overcoming Problems </span>          
						</div>
						<!-- Slide 1 Notes-->
						<aside class='notes'>
							Designing a database is one thing, but how do we maintain one? Issues can happen all the time which can be frustrating, in this slide deck we will discuss some strategies to help deal with issues (which can also be applied to other parts of your role)
						</aside>
					</section>
					<!-- Slide 2 -->
					<section data-background-image='../assets/generic/pentagon_jr.PNG'>
						<div class='row'>
							<div class='col'>
								<h1 style='color:#f4f4f4'> Debugging! </h1>
							</div>
							<div class='col'>
								<p> Technical things not doing what you expect or need them to do can be a very frustrating experience</p>
								<p> <b class='objective'> What experience do you have with debugging? </b></p>
							</div>
						</div>
						<!-- Slide 2 Notes-->
						<aside class='notes'>
							Ask the group to annotate the screen with any issues they have faced before (syntax errors, corrupted code, someone else changing it). Ask them if they have any tried and tested solutions. A bit of a history lesson, the term debugging came from Admiral Grace Hopper in the 1940's. While working on a computer at Harvard, her colleagues discovered a moth stuck in the machinery which was slowing down the process. She joked they should 'debug' the system and the phrase stuck around.
						</aside>
					</section>
					<section>
						<!-- Slide 3a -->
						<section data-background-image='../assets/generic/strike_force.PNG'>
							<div class='row'>
								<div class='col'>
									<h1 style='color:#ff7c66'> Read </h1>
									<h1 style='color:#f4f4f4'> Rubberduck </h1>
									<h1 style='color:#f4f4f4'> Ask </h1>
								</div>
								<div class='col'>
									<h1 style='color:#f4f4f4'> blank </h1>
									<p> Check the error message, what does the software say the problem is? </p>
								</div>
							</div>
							<!-- Slide 3a Notes-->
							<aside class='notes'>
								Broadly we can group our strategies to dealing with problems into 3 categories. The first is read the error message. Python, R, SQL, Excel and more often give you an error message when something goes wrong, telling you what the issue is (and sometimes how to fix it). This is the same in databases or other computer systems. When you have a problem, check for error messages (this may mean retrieving log files) to see what the problem is. If that doesn't help, you can always try Googling the error message to see if someone else has a solution.
							</aside>
						</section>
						<!-- Slide 3b -->
						<section data-background-image='../assets/generic/strike_force.PNG'>
							<div class='row'>
								<div class='col'>
									<h1 style='color:#f4f4f4'> Read </h1>
									<h1 style='color:#ff7c66'> Rubberduck </h1>
									<h1 style='color:#f4f4f4'> Ask </h1>
								</div>
								<div class='col'>
									<h1 style='color:#f4f4f4'> blank </h1>
									<p> Go through the code line by line and explain to a 'rubber duck' what is going on and try and spot the error </p>
								</div>
							</div>
							<!-- Slide 3b Notes-->
							<aside class='notes'>
								If that doesn't work, you can try talking to a rubber duck. This means going through each line of code one by one and explaining to a duck (or any object) what is going on, this will allow you to see errors such as spelling mistakes or the incorrect use of a function.
							</aside>
						</section>
						<!-- Slide 3c -->
						<section data-background-image='../assets/generic/strike_force.PNG'>
							<div class='row'>
								<div class='col'>
									<h1 style='color:#f4f4f4'> Read </h1>
									<h1 style='color:#f4f4f4'> Rubberduck </h1>
									<h1 style='color:#ff7c66'> Ask </h1>
								</div>
								<div class='col'>
									<h1 style='color:#f4f4f4'> blank </h1>
									<p> Talk to an expert in your organisation, or search for the solution on <a href='https://stackoverflow.com/' target='_blank'>StackOverflow</a> </p>
								</div>
							</div>
							<!-- Slide 3c Notes-->
							<aside class='notes'>
								Finally, if you can't spot the issue, somebody else might. Speak to a colleague and ask them to look through your work, or try searching for a solution online like on StackOverflow. The technical world of coding is vast, active and full of experts who are often willing to give you a hand. 
							</aside>
						</section>
					</section>
					<!-- Slide 4 -->
					<section data-background-image='../assets/generic/box_serious.PNG'>
						<div class="aligncenter">
							<span style ='font-size:60px;font-weight:bold;text-align:center'> To improve accuracy, quality and usefulness any errors should be <b class='objective'>corrected</b>, <b class='objective'>imputed</b> or <b class='objective'>rejected</b>  </span>
						</div>
						<!-- Slide 4 Notes-->
						<aside class='notes'>
							A rule of thumb when dealing with errors is that if they cannot be corrected they should either have a new value imputed (for example replacing null values with 0) or rejected (if you cannot find a fix or a natural replacement, get rid of it)
						</aside>
					</section>
					<section>
						<!-- Slide 5a -->
						<section data-background-image='../assets/generic/tweenies.PNG'>
							<div class='row'>
								<div class='col'></div>
								<div class='col'>
									<h2 style = color:#1d98ff><b> Activity </b></h2>
									<br>
									<p> In groups choose a couple of the scenarios on the next slide and discuss how you would mitigate or solve them </p>
								</div>
							</div>
							<!-- Slide 5a Notes-->
							<aside class='notes'>
								Give 5-10 minutes for this exercise and ask apprentices to feedback their discussions.
							</aside>
						</section>
						<!-- Slide 5b -->
						<section data-background-image='../assets/generic/table_back.PNG'>
							<table style='border-collapse: collapse;'>
								<tr>
									<td> Data isn't available as planned </td>
								</tr>
								<tr>
									<td> A team member has not delivered what you need </td>
								</tr>
								<tr>
									<td> Technical failure resulting in work lost </td>
								</tr>
								<tr>
									<td> Project is taking longer than forecast </td>
								</tr>
								<tr>
									<td> Critical team member leaves the company suddenly </td>
								</tr>
								<tr>
									<td> Key stakeholder changes the scope mid project </td>
								</tr>
								<tr>
									<td> Client wants delivery deadline brought forward </td>
								</tr>
								<tr>
									<td> Becomes clear you cannot deliver what was promised to client </td>
								</tr>
							</table>
							<!-- Slide 5b Notes-->
							<aside class='notes'>
							</aside>
						</section>
					</section>
					<!-- Slide 6 -->
					<section data-background-image='../assets/generic/blank.PNG'>
						<h1 style='color:#ff7c66'> Form an Action Plan </h1>
						<br>
						<p class='fragment'> 1. Confirm and identify the problem </p>
						<p class='fragment'> 2. Quantify and describe- <b class='objective'> what is the impact?</b> </p>
						<p class='fragment'> 3. What are the potential next steps? </p>
						<p class='fragment'> 4. Communicate to stakeholders and confirm desired next steps </p>
						<p class='fragment'> 5. Adjust plan and circulate </p>
						<p class='fragment'> 6. Continue to new plan, repeat if necessary</p>
						<!-- Slide 6 Notes-->
						<aside class='notes'>
							Whatever your solution to a problem, it is a good idea to have an action plan. You should think about the impact of any solution (you don't want to make it worse) and be sure to involve stakeholders as well.
						</aside>
					</section>
					<section>
						<!-- Slide 7a -->
						<section data-background-image='../assets/generic/main.PNG'>
							<img src='assets/session_2/issues.PNG'>
							<!-- Slide 29a Notes-->
							<aside class='notes'>
								It is possible that you will have more than one possible solution, so write down what they all are. You may want to get ideas from others as well to fill in blind spots you may have. Think logically then, what solutions are the most realistic and (potentially) make best use of available resources. Aim for one solution, and if that doesn't work, pick another.
							</aside>
						</section>
						<!-- Slide 7b -->
						<section data-background-image='../assets/generic/main.PNG'>
							<h2 style='color:#59d8a1'> Can this problem be solved? </h2>
							<h2 class='fragment' style='color:#59d8a1'> Do one thing at a time </h2>
							<h2 class='fragment' style='color:#59d8a1'> Focus on what you can control </h2>
							<h2 class='fragment' style='color:#59d8a1'> Sometimes doing nothing is best </h2>
							<!-- Slide 7b Notes-->
							<aside class='notes'>
								A few more bits of advice, ask if the problem can be solved? If not, it may be better to remove it and replace it with something new. You should consolidate your resources to work on one thing at a time, spreading yourself too thin may make it worse. Focus on what you can control, there are some things you can't, like stakeholders or randommly occuring events. You can however control how you deal with them. Sometimes leaving the problem alone may be best, something that works with a couple of bugs is better than something which is completely broken and doesn't work at all.
							</aside>
						</section>
					</section>
					<!-- Slide 8 -->
					<section data-background-image='../assets/generic/section.PNG'>
						<div class="wrap aligncenter">
							<span class='title'> Quality Control </span>          
						</div>
						<!-- Slide 8 Notes-->
						<aside class='notes'>
							Now we have considered how to overcome problems, let's look at some which can arise when we build or maintain a database. A key facet of this is quality control.
						</aside>
					</section>
					<!-- Slide 9 -->
					<section data-background-image='../assets/generic/problem.PNG'>
						<div class='row'>
							<div class='col'>
								<h1 style='color:#f4f4f4'> What issues might we have creating a table with these field names? </h1>
							</div>
							<div class='col'>
								<table>
									<tr>
										<th style='text-align:center'> Subscribers </th>
									</tr>
									<tr>
										<td> subID </td>
									</tr>
									<tr>
										<td> firstName </td>
									</tr>
									<tr>
										<td> surname </td>
									</tr>
									<tr>
										<td> email </td>
									</tr>
									<tr>
										<td> birthday </td>
									</tr>
								</table>
							</div>
						</div>
						<!-- Slide 9 Notes-->
						<aside class='notes'>
							Ask the group to annotate the screen with their ideas (birthday data type, consistent formatting, spelling mistakes)
						</aside>
					</section>
					<section>
						<!-- Slide 10a -->
						<section data-background-image='../assets/generic/strike_force.PNG'>
							<div class='row'>
								<div class='col'>
									<h2 style='color:#ff7c66'> Truncation </h2>
									<h2 style='color:#f4f4f4'> Corruption </h2>
									<h2 style='color:#f4f4f4'> Missing Data </h2>
									<h2 style='color:#f4f4f4'> Data Types </h2>
									<h2 style='color:#f4f4f4'> Translation </h2>
								</div>
								<div class='col'>
									<h2 style='color:#f4f4f4'> blank </h2>
									<p> Precision is lost when the data is stored somewhere too short to hold its entire length </p>
								</div>
							</div>
							<!-- Slide 10a Notes-->
							<aside class='notes'>
								Some things we enter into a table can be rather long (email addresses, URLs, your full name) and depending on the structure of the table these could be truncated (cut off) if the entity is too short to store the entire value. Some systems will try to fit entire values into their view width which can be heavy on memory. You will need to ensure that your system can deal with long values, for example, if a value is too long for a cell in Microsoft Excel, it hides the parts which are too long while maintaining their value. 
							</aside>
						</section>
						<!-- Slide 10b -->
						<section data-background-image='../assets/generic/strike_force.PNG'>
							<div class='row'>
								<div class='col'>
									<h2 style='color:#f4f4f4'> Truncation </h2>
									<h2 style='color:#ff7c66'> Corruption </h2>
									<h2 style='color:#f4f4f4'> Missing Data </h2>
									<h2 style='color:#f4f4f4'> Data Types </h2>
									<h2 style='color:#f4f4f4'> Translation </h2>
								</div>
								<div class='col'>
									<h2 style='color:#f4f4f4'> blank </h2>
									<p> Commas, apostrophes and other delimeters are moved/lost maing the table unreadable </p>
								</div>
							</div>
							<!-- Slide 10b Notes-->
							<aside class='notes'>
								CSV files rely on commas to separate their values, so you will need to check this has been maintained when they are uploaded to your database. What if one of your data points has a comma in it? This can really mess up a table, so you will need to find strategies to deal with this. 
							</aside>
						</section>
						<!-- Slide 10c -->
						<section data-background-image='../assets/generic/strike_force.PNG'>
							<div class='row'>
								<div class='col'>
									<h2 style='color:#f4f4f4'> Truncation </h2>
									<h2 style='color:#f4f4f4'> Corruption </h2>
									<h2 style='color:#ff7c66'> Missing Data </h2>
									<h2 style='color:#f4f4f4'> Data Types </h2>
									<h2 style='color:#f4f4f4'> Translation </h2>
								</div>
								<div class='col'>
									<h2 style='color:#f4f4f4'> blank </h2>
									<p> Rows go missing when only a portion of the data is uploaded </p>
								</div>
							</div>
							<!-- Slide 10c Notes-->
							<aside class='notes'>
								Maybe due to a loss of bandwidth only some of the rows have been uploaded, you should always check the length of your dataset is the same in the target file as it was in the source.
							</aside>
						</section>
						<!-- Slide 10d -->
						<section data-background-image='../assets/generic/strike_force.PNG'>
							<div class='row'>
								<div class='col'>
									<h2 style='color:#f4f4f4'> Truncation </h2>
									<h2 style='color:#f4f4f4'> Corruption </h2>
									<h2 style='color:#f4f4f4'> Missing Data </h2>
									<h2 style='color:#ff7c66'> Data Types </h2>
									<h2 style='color:#f4f4f4'> Translation </h2>
								</div>
								<div class='col'>
									<h2 style='color:#f4f4f4'> blank </h2>
									<p> Data mismatch from wrong data types being entered into fields </p>
								</div>
							</div>
							<!-- Slide 10d Notes-->
							<aside class='notes'>
								Many file types such as CSV or Excel do not demand that every data type must be the same within a field. When you upload to a database this will be enforced, meaning you may have some unexpected issues. For example, if part of your automated analysis involves performing a calculation on a numerical field in a database and that field has been converted to string because of a data mismatch, then your process will break. Be careful to check your data types before uploading. 
							</aside>
						</section>
						<!-- Slide 10e -->
						<section data-background-image='../assets/generic/strike_force.PNG'>
							<div class='row'>
								<div class='col'>
									<h2 style='color:#f4f4f4'> Truncation </h2>
									<h2 style='color:#f4f4f4'> Corruption </h2>
									<h2 style='color:#f4f4f4'> Missing Data </h2>
									<h2 style='color:#f4f4f4'> Data Types </h2>
									<h2 style='color:#ff7c66'> Translation </h2>
								</div>
								<div class='col'>
									<h2 style='color:#f4f4f4'> blank </h2>
									<p> Encoding is wrong or symbols or rich characters are lost</p>
								</div>
							</div>
							<!-- Slide 10e Notes-->
							<aside class='notes'>
								Not all databases have access to the same characters which can be lost if you try to upload. For example, you maybe trying to store customer tweets, but your database cannot store emojis. Or the data is written in a language which uses a different character system (i.e. Arabic, Mandarin, even accented letters in French or Spanish). If you are expecting this characters, then ensure your database can handle it. 
							</aside>
						</section>
					</section>
					<!-- Slide 11 -->
					<section data-background-image='../assets/generic/solution.PNG'>
						<div class='row'>
								<div class='col'>
									<h1 style='color:#f4f4f4'> Common tools to help us be confident in our data accuracy </h1>
								</div>
								<div class='col'>
									<p class='fragment'> Count the data </p>
									<p class='fragment'> Spot checks</p>
									<p class='fragment'> Calculate aggregates </p>
									<p class='fragment'> Export comparison </p>
								</div>
							</div>
						<!-- Slide 11 Notes-->
						<aside class='notes'>
							Most software/tools including python, R, excel, SQL and more have tools that can help with checking our data. You can count to make sure the amount of data is what you expect, have error checking (like spellcheck), calculate aggregates (which will show if any pieces of data have been changed) or even export the database to see if it still holds the same format.
						</aside>
					</section>
					<!-- Slide 12 -->
					<section data-background-image='../assets/generic/tweenies.PNG'>
						<div class='row'>
							<div class='col'></div>
							<div class='col'>
								<h2 style = color:#1d98ff><b> Activity </b></h2>
								<br>
								<p> In groups discuss:</p>
								<ul style='display:inline-block;text-align:left'>
									<li> Why is quality control important? </li>
									<li> Whose responsibility is quality control?</li>
									<li> When should quality control occur?</li>
									<li> How should quality control be recorded? </li>
									<li> What should you if somehting fails quality control?</li>
								</ul>
							</div>
						</div>
						<!-- Slide 12 Notes-->
						<aside class='notes'>
							Give 5-10 minutes for discussion and feedback
						</aside>
					</section>
					<!-- Slide 13 -->
					<section data-background-image='../assets/generic/table_back.PNG'>
						<table>
							<tr>
								<th colspan=2 style='text-align:center'> 6 Core Data Quality Dimensions </th>
							</tr>
							<tr>
								<td><b class='objective'> Completeness </b></td>
								<td> No missing values </td>
							</tr>
							<tr>
								<td><b class='objective'> Uniqueness </b></td>
								<td> Data only stored in one place </td>
							</tr>
							<tr>
								<td><b class='objective'> Timeliness </b></td>
								<td> Data should be reasonably up to date </td>
							</tr>
							<tr>
								<td><b class='objective'> Validity </b></td>
								<td> Conforms to the correct syntax </td>
							</tr>
							<tr>
								<td><b class='objective'> Accuracy </b></td>
								<td> Value stored is correct for its occurrence </td>
							</tr>
							<tr>
								<td><b class='objective'> Consistency </b></td>
								<td> Form and content of field is always the same </td>
							</tr>
						</table>
						<!-- Slide 13 Notes-->
						<aside class='notes'>
							A summary then of what our data should look like in a database, note how much of this is similar to GDPR which governs how and why we hold data. The rest of it relates to the efficiency of the database, including consistent data types in fields, normalisation and syntax.
						</aside>
					</section>
					<!-- Slide 14 -->
					<section data-background-image='../assets/generic/solution.PNG'>
						<div class='row'>
								<div class='col'>
									<h1 style='color:#f4f4f4'> In summary... </h1>
								</div>
								<div class='col'>
									<p class='fragment'> Quality control gives us confidence in results </p>
									<p class='fragment'> Simple techniques can be used to check uploads, simple queries can be used to check results</p>
									<p class='fragment'> Checking the quality as you go is easier and more efficient than doing it at the end </p>
									<p class='fragment'> Code can be designed to be more robust </p>
								</div>
							</div>
						<!-- Slide 14 Notes-->
						<aside class='notes'>
							Good quality control with our databases will give us the confidence that the data is accurate with the knock on effect that our analysis is reliable. It isn't difficult to quality control or check, and doing this early will reduce problems later on. It is a good idea to review code regularly to see if it can be made more efficient.
						</aside>
					</section>
					<!-- Slide 15 -->
					<section data-background-image='../assets/generic/section.PNG'>
						<div class="wrap aligncenter">
							<span class='title'> Performance Techniques </span>          
						</div>
						<!-- Slide 15 Notes-->
						<aside class='notes'>
							We have looked at potential problems that can affect our databases and what we can do to mitigate, but how do we maintain a database so it performs efficiently?
						</aside>
					</section>
					<!-- Slide 16 -->
					<section data-background-image='../assets/generic/problem.PNG'>
						<div class='row'>
								<div class='col'>
									<h1 style='color:#f4f4f4'> Performance issues can arise due to... </h1>
								</div>
								<div class='col'>
									<p class='fragment'> Too much data </p>
									<p class='fragment'> Inefficient queries</p>
									<p class='fragment'> Over complex queries (too many joins) </p>
									<p class='fragment'> Database is not normalised properly </p>
								</div>
							</div>
						<!-- Slide 16 Notes-->
						<aside class='notes'>
							Issues can arise when our data sets are too big- not only will they take up lots of memory, but queries will have to search through all the rows to find the information you need which is inefficient. You may want to consider hosting your data on a 'Big Data' server, or use a NoSQL database to deal with this. Sometimes performance issues come about due to the queries themselves, you can apply filters and limits to SQL queries which will reduce the amount of data it has to sort through. Whenever you join tables together time will be added to the query, and finally, if your database has not been normalised properly then there will be redundant data which will slow down your processes.
						</aside>
					</section>
					<!-- Slide 17 -->
					<section data-background-image='../assets/generic/pentagon_jr.PNG'>
						<div class='row'>
							<div class='col'>
							</div>
							<div class='col'>
								<p style='font-size:40px;color:#4d61f4'>What is the quickest way to find a topic in an encyclopedia?</p> 
							</div>
						</div>
						<!-- Slide 17 Notes-->
						<aside class='notes'>
							Let's think of some solutions (particularly around large datasets). How would you answer this question?
						</aside>
					</section>
					<!-- Slide 18 -->
					<section data-background-image='../assets/generic/main.PNG'>
						<div class='row'>
							<div class='col'>
								<img src='https://source.unsplash.com/o3sl4dhYhZE/1600x800'>
							</div>
							<div class='col'>
								<h1> Indexing </h1>
								<br>
								<p> Every record in a database is assigned an index </p>
								<p> Data is retrieved by referencing the index </p>
							</div>
						</div>
						<!-- Slide 18 Notes-->
						<aside class='notes'>
							You would use an index! Assign each record in a database a value then retrieve the data by accessing the indices. This is opposed to sorting through the database (querying). This optimises the performance by minimising the number of disk accesses required when a query is processed. You do however need to know what the indices are for the records you want to access.
						</aside>
					</section>
					<!-- Slide 19 -->
					<section data-background-image='../assets/generic/table_back.PNG'>
						<div class='row'>
							<div class='col'>
								<table>
									<tr>
										<th style='text-align:center'> Index </th>
									</tr>
									<tr><td>1</td></tr>
									<tr><td>2</td></tr>
									<tr><td style='background-color:#ffe352'>3</td></tr>
									<tr><td>4</td></tr>
									<tr><td>...</td></tr>
									<tr><td>25</td></tr>
									<tr><td>26</td></tr>
								</table>
							</div>
							<div class='col'>
								<table>
									<tr>
										<th style='text-align:center'> Index </th>
										<th style='text-align:center'> Letter </th>
										<th style='text-align:center'> Phonetic </th>
									</tr>
									<tr><td>1</td><td>A</td><td>Alpha</td></tr>
									<tr><td>2</td><td>B</td><td>Bravo</td></tr>
									<tr><td style='background-color:#ffe352'>3</td><td style='background-color:#ffe352'>C</td><td style='background-color:#ffe352'>Charlie</td></tr>
									<tr><td>4</td><td>D</td><td>Delta</td></tr>
									<tr><td>...</td><td>...</td><td>...</td></tr>
									<tr><td>25</td><td>E</td><td>Yankee</td></tr>
									<tr><td>26</td><td>F</td><td>Zulu</td></tr>
								</table>
							</div>
						</div>
						<!-- Slide 19 Notes-->
						<aside class='notes'>
							An example of indexing, we have a table full of indices which we know refer to values in a data table. Instead of running through the data table itself I can sort through the index table (which is smaller) and then cross reference the indices to retrieve the information I want. 
						</aside>
					</section>
					<!-- Slide 20 -->
					<section data-background-image='../assets/generic/box_serious.PNG'>
						<div class="aligncenter">
							<h1 style ='font-size:50px;font-weight:bold;text-align:center'> Denormalisation </h1> 
							<br>
							<p> A database optimisation technique where redundant data is added to one or more tables to help avoid costly joins in a relational database.
						</div>
						<!-- Slide 20 Notes-->
						<aside class='notes'>
							Another approach could be to denormalise the database. This does not mean not doing normalisation. It is an optimisation technique that is applied after doing normalisation.
						</aside>
					</section>
					<!-- Slide 21 -->
					<section data-background-image='../assets/generic/circle_remix.PNG'>
						<div class='wrap' style='width:max-content'>
						<p style='font-size:40px'><b>Denormalisation</b> </p>
						<div class='r-hstack'>
							<div class='fragment'>
								<h4 style=color:#59d8a1;font-size:30px> Pros </h4>				
								<ul style='display:inline-block;text-align:left'>
									<li> Data retrieval is faster through fewer joins </li>
									<li> Queries are simpler through looking at fewer tables </li>			
								</ul>
							</div>
							<br>
							<div class='fragment'>
								<h4 style=color:#ff7c66;font-size:30px> Cons </h4>
								<ul style='display:inline-block;text-align:left'>
									<li> Updates and inserts are more expensive and harder to write</li>
									<li> Data may be inconsistent </li>
									<li> Data redundancy requires more storage</li>
								</ul>
							</div>
						</div>
					</div>
						<!-- Slide 21 Notes-->
						<aside class='notes'>
							Denormalising means introducing redundant data to our tables to speed up processes. For example, if there is a join you are always doing, then consider creating a table with all that information combined so for future queries you do not need to join. Or, if there is a calculation you are always doing, then create a calculated field to avoid repeating this calculation. The pros of this process is that querying will be faster and simpler, but the cons are that it will be more difficult to update our tables, there may data inconsistencies and storage requirements will go up.
						</aside>
					</section>
					<section>
						<!-- Slide 22a -->
						<section data-background-image='../assets/generic/table_back.PNG'>
							<table>
								<tr>
									<th style='text-align:center'> date </th>
									<th style='text-align:center;background-color:#ffe352'> month </th>
									<th style='text-align:center'> sales </th>
									<th style='text-align:center'> country </th>
									<th style='text-align:center;background-color:#ffe352'> code </th>
									<th style='text-align:center;background-color:#ffe352'> continent </th>
								</tr>
								<tr>
									<td> 08/06/2020 </td>
									<td style='background-color:#ffe352'> 6 </td>
									<td> 791 </td>
									<td> France </td>
									<td style='background-color:#ffe352'> FR </td>
									<td style='background-color:#ffe352'> Europe </td>
								</tr>
								<tr>
									<td> 08/06/2020 </td>
									<td style='background-color:#ffe352'> 6 </td>
									<td> 582 </td>
									<td> Canada </td>
									<td style='background-color:#ffe352'> CA </td>
									<td style='background-color:#ffe352'> North America </td>
								</tr>
								<tr>
									<td> 08/06/2020 </td>
									<td style='background-color:#ffe352'> 6 </td>
									<td> 915 </td>
									<td> Egypt </td>
									<td style='background-color:#ffe352'> EG </td>
									<td style='background-color:#ffe352'> Africa </td>
								</tr>
								<tr>
									<td> 08/06/2020 </td>
									<td style='background-color:#ffe352'> 6 </td>
									<td> 787 </td>
									<td> Norway </td>
									<td style='background-color:#ffe352'> NO </td>
									<td style='background-color:#ffe352'> Europe </td>
								</tr>
							</table>
							<!-- Slide 22a Notes-->
							<aside class='notes'>
								A couple of examples, in a normalised table we wouldn't need a column for month (transitive dependency) or the information about the countries (should be stored in a different table). If you are retrieving this information via joins every time you write a query, it will be more efficient to have these redundant data to speed up the data retrieval.
							</aside>
						</section>
						<!-- Slide 23b -->
						<section data-background-image='../assets/generic/table_back.PNG'>
							<table>
								<tr>
									<th style='text-align:center'> country </th>
									<th style='text-align:center'> wins </th>
									<th style='text-align:center'> draws </th>
									<th style='text-align:center'> losses </th>
									<th style='text-align:center;background-color:#ffe352'> win % </th>
								</tr>
								<tr>
									<td> France </td>
									<td> 6 </td>
									<td> 1 </td>
									<td> 0 </td>
									<td style='background-color:#ffe352'> 85.7% </td>
								</tr>
								<tr>
									<td> Croatia </td>
									<td> 6 </td>
									<td> 0 </td>
									<td> 1 </td>
									<td style='background-color:#ffe352'> 85.7% </td>
								</tr>
								<tr>
									<td> Belgium </td>
									<td> 6 </td>
									<td> 0 </td>
									<td> 1 </td>
									<td style='background-color:#ffe352'> 85.7% </td>
								</tr>
								<tr>
									<td> England </td>
									<td> 4 </td>
									<td> 0 </td>
									<td> 3 </td>
									<td style='background-color:#ffe352'> 57.1% </td>
								</tr>
							</table>
							<!-- Slide 23b Notes-->
							<aside class='notes'>
								If a calculation is happening every time a query is run, it may be better to create a 'calculated field'.
							</aside>
						</section>
					</section>
					<!-- Slide 24 -->
					<section data-background-image='../assets/generic/section.PNG'>
						<div class="wrap aligncenter">
							<span class='title'> Database Maintenance </span>          
						</div>
						<!-- Slide 24 Notes-->
						<aside class='notes'>
							Our final section today will look at some last tips for maintaining a database.
						</aside>
					</section>
					<!-- Slide 25 -->
					<section data-background-image='../assets/generic/main.PNG'>
						<h2> Maintaining a database is critical to ensuring a database environment performs reliably and efficiently. We need these tasks to: </h2>
						<br>
						<p class='fragment'><b class='objective'>&rarr;</b> Increase performance </p>
						<p class='fragment'><b class='objective'>&rarr;</b> Free up disk space </p>
						<p class='fragment'><b class='objective'>&rarr;</b> Check for data errors </p>
						<p class='fragment'><b class='objective'>&rarr;</b> Check for hardware faults </p>
						<!-- Slide 25 Notes-->
						<aside class='notes'>
							As we have seen already today, maintaining a database will increase performance, reduce storage, allow us to identify errors more quickly and find issues with hardware (do we need more storage?)
						</aside>
					</section>
					<!-- Slide 26 -->
					<section data-background-image='../assets/generic/main.PNG'>
						<h1> Log File Maintenance </h1>
						<br>
						<p> Log files are invaluable for diagnosing problems in your database and should therefore be saved. </p>
						<p class='fragment'> They can however be quite large (especially at high debug levels) and so should be discarded after a reasonable period of time. </p>
						<p class='fragment'> Read more <a href='https://www.postgresql.org/docs/9.1/logfile-maintenance.html' target='_blank'> here. </a></p>
						<!-- Slide 26 Notes-->
						<aside class='notes'>
							Many databases can produce detailed logs when requested which are useful for finding errors, the problem is that logs (and any other metadata) take up space and can reduce performance. You should delete logs after a reasonable amount of time. Some database systems will automatically do this after a few days (or even hours).
						</aside>
					</section>
					<!-- Slide 27 -->
					<section data-background-image='../assets/generic/main.PNG'>
						<h1> Fragmentation </h1>
						<br>
						<p> Indexes can become fragmented as new data is introduced which can affect performance </p>
						<div class='row'>
							<div class='col fragment'>
								<table>
									<tr>
										<th style='text-align:center'> id </th>
										<th style='text-align:center'> name </th>
									</tr>
									<tr>
										<td> 1 </td>
										<td> Jane </td>
									</tr>
									<tr>
										<td> 2 </td>
										<td> Peter </td>
									</tr>
									<tr>
										<td> 3 </td>
										<td> Kim </td>
									</tr>
									<tr>
										<td> 4 </td>
										<td> Olivia </td>
									</tr>
								</table>
							</div>
							<div class='col fragment'>
								<table>
									<tr>
										<th style='text-align:center'> id </th>
										<th style='text-align:center'> name </th>
									</tr>
									<tr>
										<td> 1 </td>
										<td> Jane </td>
									</tr>
									<tr style="background-color:#ff7c66">
										<td> &nbsp; </td>
										<td> &nbsp; </td>
									</tr>
									<tr>
										<td> 3 </td>
										<td> Kim </td>
									</tr>
									<tr>
										<td> 4 </td>
										<td> Olivia </td>
									</tr>
									<tr style="background-color:#59d8a1">
										<td> 5 </td>
										<td> Suresh </td>
									</tr>
								</table>
							</div>
							<div class='col fragment'>
								<table>
									<tr>
										<th style='text-align:center'> id </th>
										<th style='text-align:center'> name </th>
									</tr>
									<tr>
										<td> 1 </td>
										<td> Jane </td>
									</tr>
									<tr style="background-color:#ff7c66">
										<td> &nbsp; </td>
										<td> &nbsp; </td>
									</tr>
									<tr>
										<td> 3 </td>
										<td> Kim </td>
									</tr>
									<tr style="background-color:#ff7c66">
										<td> &nbsp; </td>
										<td> &nbsp; </td>
									</tr>
									<tr style="background-color:#59d8a1">
										<td> 5 </td>
										<td> Suresh </td>
									</tr>
								</table>
							</div>
						</div>
						<!-- Slide 27 Notes-->
						<aside class='notes'>
							Another issue is that as data is inserted, modified or deleted the indices can get fragmented. As you can see in the example, this can result in empty rows (or columns) which take up space and therefore reduce performance. A simple index reset should sort this problem out.
						</aside>
					</section>
					<section>
						<!-- Slide 28a -->
						<section data-background-image='../assets/generic/solution.PNG'>
							<div class='row'>
								<div class='col'>
									<h1 style='color:#f4f4f4'> Other Techniques: </h1>
									<br>
									<h2> Data Compaction </h2>
									<h2 style='color:#f4f4f4'> Integrity Check </h2>
									<h2 style='color:#f4f4f4'> Backing Up </h2>
								</div>
								<div class='col'>
									<h2 style='color:#f4f4f4'> &nbsp; </h2>
									<p> Compress the data so it can be stored more efficiently and quickly </p>
								</div>
							</div>
							<!-- Slide 28a Notes-->
							<aside class='notes'>
								Other ways you can improve your database performance include compressing the data (like in a zip file) so it can be stored more efficiently.
							</aside>
						</section>
						<!-- Slide 28b -->
						<section data-background-image='../assets/generic/solution.PNG'>
							<div class='row'>
								<div class='col'>
									<h1 style='color:#f4f4f4'> Other Techniques: </h1>
									<br>
									<h2 style='color:#f4f4f4'> Data Compaction </h2>
									<h2> Integrity Check </h2>
									<h2 style='color:#f4f4f4'> Backing Up </h2>
								</div>
								<div class='col'>
									<h2 style='color:#f4f4f4'> &nbsp; </h2>
									<p> Ensure relationships between entities have been observed </p>
								</div>
							</div>
							<!-- Slide 28b Notes-->
							<aside class='notes'>
								Or regularly check the integrity of entities and relationships so issues can be dealt with before they arise.
							</aside>
						</section>
						<!-- Slide 28c -->
						<section data-background-image='../assets/generic/solution.PNG'>
							<div class='row'>
								<div class='col'>
									<h1 style='color:#f4f4f4'> Other Techniques: </h1>
									<br>
									<h2 style='color:#f4f4f4'> Data Compaction </h2>
									<h2 style='color:#f4f4f4'> Integrity Check </h2>
									<h2> Backing Up </h2>
								</div>
								<div class='col'>
									<h2 style='color:#f4f4f4'> &nbsp; </h2>
									<p> Regularly back your data up! </p>
								</div>
							</div>
							<!-- Slide 28c Notes-->
							<aside class='notes'>
								Finally, always have a back up!
							</aside>
						</section>
					</section>
        </div>
      </div>
      <!-- Scripts -->
      <script src="../Dependencies/dist/reveal.js"></script>
      <script src="../Dependencies/plugin/notes/notes.js"></script>
      <script src="../Dependencies/plugin/markdown/markdown.js"></script>
      <script src="../Dependencies/plugin/highlight/highlight.js"></script>
      <script>
        Reveal.initialize({hash: true, mouseWheel:true, controls:true, slideNumber:true,hashOneBasedIndex: true, loop:true, plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]	});
      </script>
    </body>   
  </head>
</html>
